@defer (base.html; active_page="Favorites"; playing_info=playing_info) {
  <div class="flex flex-col gap-6 px-4 pb-24">
    <div
      class="pt-safe-or-4 sticky top-0 z-10 flex flex-col gap-4 bg-black/80 pb-4 backdrop-blur-md"
    >
      <h1 class="text-3xl font-bold tracking-tight">Favorites</h1>

      <div class="flex w-full overflow-x-auto rounded-lg bg-gray-900 p-1 no-scrollbar">
        <a
          href="albums"
          class="flex-1 min-w-20 rounded-md py-1.5 px-2 text-center text-sm font-medium transition-all @if (tab == 'albums') {bg-gray-800 text-white shadow-sm} @else {text-gray-400 hover:text-gray-200}"
          hx-boost="true"
        >
          Albums
        </a>
        <a
          href="tracks"
          class="flex-1 min-w-20 rounded-md py-1.5 px-2 text-center text-sm font-medium transition-all @if (tab == 'tracks') {bg-gray-800 text-white shadow-sm} @else {text-gray-400 hover:text-gray-200}"
          hx-boost="true"
        >
          Tracks
        </a>
        <a
          href="artists"
          class="flex-1 min-w-20 rounded-md py-1.5 px-2 text-center text-sm font-medium transition-all @if (tab == 'artists') {bg-gray-800 text-white shadow-sm} @else {text-gray-400 hover:text-gray-200}"
          hx-boost="true"
        >
          Artists
        </a>
        <a
          href="playlists"
          class="flex-1 min-w-20 rounded-md py-1.5 px-2 text-center text-sm font-medium transition-all @if (tab == 'playlists') {bg-gray-800 text-white shadow-sm} @else {text-gray-400 hover:text-gray-200}"
          hx-boost="true"
        >
          Playlists
        </a>
      </div>
    </div>

    <div class="animate-in fade-in slide-in-from-bottom-4 duration-500">
      @if (tab == "albums") {
        @defer (list-albums.html; albums=favorites.albums) {}
      }
      @if (tab == "artists") {
        @defer (list-artists.html; artists=favorites.artists) {}
      }
      @if (tab == "playlists") {
        <a class="btn btn-primary mb-4 w-full sm:w-fit" href="/playlist/create">
          @defer (icons/plus.html) {}
          Create playlist
        </a>

        @defer (list-playlists.html; playlists=favorites.playlists) {}
      }
      @if (tab == "tracks") {
        @defer (favorites-tracks.html; tracks=favorites.tracks) {}
      }
    </div>
  </div>
}
