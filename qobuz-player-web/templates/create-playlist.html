@defer (base.html; playing_info=playing_info) {
<div class="flex min-h-screen flex-col px-4 pb-24">
  <!-- Header -->
  <div
    class="pt-safe-or-4 sticky top-0 z-10 flex items-center justify-between bg-black/80 py-4 backdrop-blur-md"
  >
    <button
      class="flex size-10 items-center justify-center rounded-full text-gray-400 transition-colors hover:bg-white/10 hover:text-white active:scale-95"
      onclick="history.back()"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="m15 18-6-6 6-6" />
      </svg>
    </button>
    <span
      class="pointer-events-none absolute inset-x-0 text-center text-sm font-medium tracking-widest text-gray-400 uppercase"
      >Create Playlist</span
    >
    <div class="size-10"></div>
  </div>

  <!-- Form -->
  <div class="flex flex-1 items-center justify-center py-8">
    <form
      hx-post="/playlist/create"
      hx-trigger="submit"
      hx-swap="none"
      class="w-full max-w-md space-y-6 rounded-2xl bg-gray-900/80 p-6 ring-1 ring-white/10 backdrop-blur-md"
    >
      <div class="space-y-2">
        <label for="name" class="block text-sm font-medium text-gray-300"
          >Name</label
        >
        <input
          type="text"
          id="name"
          name="name"
          required
          placeholder="My playlist"
          class="w-full rounded-xl bg-gray-900 px-4 py-3 text-white placeholder-gray-500 ring-1 ring-gray-800 transition-all focus:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        />
      </div>

      <div class="space-y-2">
        <label
          for="description"
          class="block text-sm font-medium text-gray-300"
          >Description</label
        >
        <textarea
          id="description"
          name="description"
          rows="3"
          placeholder="Add a description..."
          class="w-full rounded-xl bg-gray-900 px-4 py-3 text-white placeholder-gray-500 ring-1 ring-gray-800 transition-all focus:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        ></textarea>
      </div>

      <div class="space-y-3">
        <label class="flex cursor-pointer items-center gap-3">
          <input
            type="checkbox"
            id="is_public"
            name="is_public"
            class="size-5 rounded border-gray-600 bg-gray-800 accent-blue-500"
          />
          <div class="flex flex-col">
            <span class="text-sm font-medium text-gray-200">Public</span>
            <span class="text-xs text-gray-500"
              >Anyone can find and view this playlist</span
            >
          </div>
        </label>

        <label class="flex cursor-pointer items-center gap-3">
          <input
            type="checkbox"
            id="is_collaborative"
            name="is_collaborative"
            disabled
            class="size-5 rounded border-gray-600 bg-gray-800 accent-blue-500 disabled:opacity-40"
          />
          <div class="flex flex-col">
            <span class="text-sm font-medium text-gray-200">Collaborative</span>
            <span class="text-xs text-gray-500"
              >Others can add and remove tracks</span
            >
          </div>
        </label>
      </div>

      <div class="flex gap-3 pt-2">
        <button
          type="button"
          class="btn btn-secondary flex-1"
          onclick="history.back()"
        >
          Cancel
        </button>
        <button type="submit" class="btn btn-primary flex-1">
          Create
        </button>
      </div>
    </form>
  </div>
</div>
}

<script>
  const isPublic = document.getElementById("is_public");
  const isCollaborative = document.getElementById("is_collaborative");

  isPublic.addEventListener("change", () => {
    if (isPublic.checked) {
      isCollaborative.disabled = false;
    } else {
      isCollaborative.checked = false;
      isCollaborative.disabled = true;
    }
  });
</script>
